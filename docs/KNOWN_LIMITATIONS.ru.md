# Известные ограничения (v1)

Этот документ фиксирует известные ограничения и острые углы текущей реализации
Surge (компилятор, стандартная библиотека и рантаймы). Это не исчерпывающая
спецификация.

См. также:
- `docs/LANGUAGE.ru.md`
- `docs/PARALLEL.ru.md`
- `docs/RUNTIME.ru.md`
- `docs/ABI_LAYOUT.ru.md`

## Язык / синтаксис

- `mut` в списке параметров функций не поддерживается: `fn foo(mut a: int)` будет ошибкой. Обход: сделать изменяемую локальную переменную внутри функции (`let mut x = a;`) или принимать `&mut T`.
- `parallel` и `signal` зарезервированы, но пока не реализованы (ошибка компиляции).

## Массивы

- Вложенные массивы и многомерные массивы сейчас ненадежны. Примеры: `T[][]`, `T[N][M]`. Симптомы могут включать странное поведение, неожиданные алиасы и некорректные копии. Предпочитайте плоское хранение (`T[N*M]` или `T[]`) и ручной расчет индекса.
- В VM backend сегодня срез динамического массива это view, а не новый массив. Такой view нельзя расширять: `push`, `pop` и `reserve` паникуют в рантайме (см. `docs/ABI_LAYOUT.ru.md`).

## Конкуррентность / рантайм

- VM backend однопоточный: параллелизма на уровне ОС-потоков нет. См. `docs/RUNTIME.ru.md`.
- `parallel map/reduce` и `signal` зарезервированы и отклоняются семантикой. См. `docs/PARALLEL.ru.md`.

## Типы / стандартная библиотека

- `print` сейчас принимает один аргумент; `print("a", "b")` не поддерживается.
- Ключи `Map<K, V>` ограничены `string` и целочисленными типами в v1.
- Сырые указатели (`*T`) разрешены только в `extern` и `@intrinsic`; режима `unsafe` для пользовательского кода пока нет.

