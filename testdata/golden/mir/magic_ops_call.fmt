type Point = {
    x: int,
    y: int,
};

extern<Point> {
    fn __add(self: &Point, other: &Point) -> Point {
        return { x: self.x + other.x, y: self.y + other.y };
    }

    fn __eq(self: &Point, other: &Point) -> bool {
        return self.x == other.x && self.y == other.y;
    }

    fn __lt(self: &Point, other: &Point) -> bool {
        return self.x < other.x;
    }

    fn __neg(self: &Point) -> Point {
        return { x: -self.x, y: -self.y };
    }
}

fn main() -> int {
    let a: Point = { x: 1, y: 2 };
    let b: Point = { x: 3, y: 4 };
    let c = a + b;
    let eq = a == b;
    let lt = a < b;
    let neg = -a;
    if eq || lt {
        return c.x + neg.y;
    }
    return 0;
}
