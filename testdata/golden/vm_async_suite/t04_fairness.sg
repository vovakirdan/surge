@entrypoint
fn main() -> int {
    let left = task async {
        print("L1");
        checkpoint().await();
        print("L2");
        checkpoint().await();
        print("L3");
        return 0;
    };
    let right = task async {
        print("R1");
        checkpoint().await();
        print("R2");
        checkpoint().await();
        print("R3");
        return 0;
    };

    let _ = left.await();
    let _ = right.await();
    return 0;
}
