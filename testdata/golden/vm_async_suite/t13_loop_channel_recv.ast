t13_loop_channel_recv.sg (span: 1:1-39:1)
├─ Item[0]: Fn (span: 1:1-7:2)
│  ├─ Name: producer
│  ├─ Params: (ch: own Channel<int>)
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 1:48-7:2)
│        ├─ Stmt[0]: Expr (span: 2:5-2:16)
│        │  └─ Expr: expr#4: ch.send(1)
│        ├─ Stmt[1]: Expr (span: 3:5-3:16)
│        │  └─ Expr: expr#8: ch.send(2)
│        ├─ Stmt[2]: Expr (span: 4:5-4:16)
│        │  └─ Expr: expr#12: ch.send(3)
│        ├─ Stmt[3]: Expr (span: 5:5-5:16)
│        │  └─ Expr: expr#15: ch.close()
│        └─ Stmt[4]: Return (span: 6:5-6:14)
│           └─ Expr: expr#16: 0
├─ Item[1]: Fn (span: 9:1-25:2)
│  ├─ Name: consumer
│  ├─ Params: (ch: own Channel<int>)
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 9:48-25:2)
│        ├─ Stmt[0]: Let (span: 10:5-10:17)
│        │  ├─ Name: sum
│        │  ├─ Mutable: false
│        │  ├─ Type: <inferred>
│        │  └─ Value: expr#17: 0
│        ├─ Stmt[1]: Let (span: 11:5-11:22)
│        │  ├─ Name: done
│        │  ├─ Mutable: false
│        │  ├─ Type: <inferred>
│        │  └─ Value: expr#18: false
│        ├─ Stmt[2]: While (span: 12:5-22:6)
│        │  ├─ Cond: expr#20: !done
│        │  └─ Body:
Block (span: 12:17-22:6)
│        │     ├─ Stmt[0]: Let (span: 13:9-13:27)
│        │     │  ├─ Name: v
│        │     │  ├─ Mutable: false
│        │     │  ├─ Type: <inferred>
│        │     │  └─ Value: expr#23: ch.recv()
│        │     ├─ Stmt[1]: Let (span: 14:9-17:11)
│        │     │  ├─ Name: inc
│        │     │  ├─ Mutable: false
│        │     │  ├─ Type: <inferred>
│        │     │  └─ Value: expr#31: compare v { 2 arms }
│        │     ├─ Stmt[2]: Expr (span: 18:9-18:25)
│        │     │  └─ Expr: expr#36: (sum = ((sum + inc)))
│        │     └─ Stmt[3]: If (span: 19:9-21:10)
│        │        ├─ Cond: expr#39: (inc == 0)
│        │        ├─ Then:
Block (span: 19:21-21:10)
│        │        │  └─ Stmt[0]: Expr (span: 20:13-20:25)
│        │        │     └─ Expr: expr#42: (done = true)
│        │        └─ Else: <none>
│        ├─ Stmt[3]: Expr (span: 23:5-23:37)
│        │  └─ Expr: expr#49: print(("sum=" + (sum to string)))
│        └─ Stmt[4]: Return (span: 24:5-24:14)
│           └─ Expr: expr#50: 0
└─ Item[2]: Fn (span: 27:1-38:2)
   ├─ Name: main
   ├─ Params: ()
   ├─ Return: int
   └─ Body:
      └─ Stmt[0]: Block (span: 28:18-38:2)
         ├─ Stmt[0]: Let (span: 29:5-29:37)
         │  ├─ Name: ch
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#53: make_channel(0)
         ├─ Stmt[1]: Let (span: 30:5-30:22)
         │  ├─ Name: prod_ch
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#54: ch
         ├─ Stmt[2]: Let (span: 31:5-31:22)
         │  ├─ Name: cons_ch
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#55: ch
         ├─ Stmt[3]: Let (span: 32:5-32:40)
         │  ├─ Name: prod
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#59: spawn producer(prod_ch)
         ├─ Stmt[4]: Let (span: 33:5-33:40)
         │  ├─ Name: cons
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#63: spawn consumer(cons_ch)
         ├─ Stmt[5]: Let (span: 35:5-35:26)
         │  ├─ Name: _
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#66: prod.await()
         ├─ Stmt[6]: Let (span: 36:5-36:26)
         │  ├─ Name: _
         │  ├─ Mutable: false
         │  ├─ Type: <inferred>
         │  └─ Value: expr#69: cons.await()
         └─ Stmt[7]: Return (span: 37:5-37:14)
            └─ Expr: expr#70: 0
