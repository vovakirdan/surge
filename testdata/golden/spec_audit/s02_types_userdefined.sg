// ยง2.5 User-defined Types Audit

// Struct
type Person = { age: int, name: string }

// Struct with @readonly field
type ImmutablePerson = { age: int, @readonly name: string }

// Struct extension
type Employee = Person : { id: uint, department: string }

// Enums (auto, int, string)
enum Direction = { Up, Down, Left, Right }
enum HttpStatus: int = { Ok = 200, NotFound = 404, ServerError = 500 }
enum Color: string = { Black = "black", White = "white" }

@entrypoint
fn main() {
    // Struct literal
    let p: Person = { age: 25, name: "Alice" };
    print("Person: " + p.name + ", age " + (p.age to string));

    // Struct with @readonly
    let ip: ImmutablePerson = { age: 30, name: "Bob" };
    print("ImmutablePerson: " + ip.name);

    // Struct extension
    let e: Employee = { age: 40, name: "Carol", id: 7, department: "R&D" };
    print("Employee: " + e.name + " (" + (e.id to string) + ")");

    // Enums
    let dir: int = Direction::Left;
    let code: int = HttpStatus::NotFound;
    let color: string = Color::Black;
    print("Direction::Left = " + (dir to string));
    print("HttpStatus::NotFound = " + (code to string));
    print("Color::Black = " + color);

    print("ยง2.5 User-defined Types: PASS");
    print("  - Structs: PASS");
    print("  - @readonly fields: PASS");
    print("  - Enums (auto/int/string): PASS");
    print("  - Struct extension: PASS");
}
