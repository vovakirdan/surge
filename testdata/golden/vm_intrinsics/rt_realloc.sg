fn write_line(s: string) -> nothing {
    let nl = "\n";
    rt_write_stdout(rt_string_ptr(&s), rt_string_len_bytes(&s));
    rt_write_stdout(rt_string_ptr(&nl), 1:uint);
}

@entrypoint
fn main() -> int {
    let src = "hey";
    let p = rt_alloc(3:uint, 1:uint);
    rt_memcpy(p, rt_string_ptr(&src), 3:uint);
    let p2 = rt_realloc(p, 3:uint, 5:uint, 1:uint);
    let out = rt_string_from_bytes(p2, 3:uint);
    rt_free(p2, 5:uint, 1:uint);
    write_line(out);
    return 0;
}
