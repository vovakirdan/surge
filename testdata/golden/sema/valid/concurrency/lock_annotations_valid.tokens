  1: KwType          "type" at 3:1-3:5 (leading: LineComment, Newline)
  2: Ident           "SafeCounter" at 3:6-3:17 (leading: Space)
  3: Assign          "=" at 3:18-3:19 (leading: Space)
  4: LBrace          "{" at 3:20-3:21 (leading: Space)
  5: Ident           "lock" at 4:5-4:9 (leading: Newline, Space)
  6: Colon           ":" at 4:9-4:10
  7: Ident           "Mutex" at 4:11-4:16 (leading: Space)
  8: Comma           "," at 4:16-4:17
  9: Ident           "value" at 5:5-5:10 (leading: Newline, Space)
 10: Colon           ":" at 5:10-5:11
 11: Ident           "int" at 5:12-5:15 (leading: Space)
 12: Comma           "," at 5:15-5:16
 13: RBrace          "}" at 6:1-6:2 (leading: Newline)
 14: KwExtern        "extern" at 8:1-8:7 (leading: Newline)
 15: Lt              "<" at 8:7-8:8
 16: Ident           "SafeCounter" at 8:8-8:19
 17: Gt              ">" at 8:19-8:20
 18: LBrace          "{" at 8:21-8:22 (leading: Space)
 19: At              "@" at 9:5-9:6 (leading: Newline, Space)
 20: Ident           "requires_lock" at 9:6-9:19
 21: LParen          "(" at 9:19-9:20
 22: StringLit       "\"lock\"" at 9:20-9:26
 23: RParen          ")" at 9:26-9:27
 24: KwPub           "pub" at 10:5-10:8 (leading: Newline, Space)
 25: KwFn            "fn" at 10:9-10:11 (leading: Space)
 26: Ident           "get_value" at 10:12-10:21 (leading: Space)
 27: LParen          "(" at 10:21-10:22
 28: Ident           "self" at 10:22-10:26
 29: Colon           ":" at 10:26-10:27
 30: Amp             "&" at 10:28-10:29 (leading: Space)
 31: Ident           "SafeCounter" at 10:29-10:40
 32: RParen          ")" at 10:40-10:41
 33: Arrow           "->" at 10:42-10:44 (leading: Space)
 34: Ident           "int" at 10:45-10:48 (leading: Space)
 35: LBrace          "{" at 10:49-10:50 (leading: Space)
 36: KwReturn        "return" at 11:9-11:15 (leading: Newline, Space)
 37: Ident           "self" at 11:16-11:20 (leading: Space)
 38: Dot             "." at 11:20-11:21
 39: Ident           "value" at 11:21-11:26
 40: Semicolon       ";" at 11:26-11:27
 41: RBrace          "}" at 12:5-12:6 (leading: Newline, Space)
 42: At              "@" at 14:5-14:6 (leading: Newline, Space)
 43: Ident           "acquires_lock" at 14:6-14:19
 44: LParen          "(" at 14:19-14:20
 45: StringLit       "\"lock\"" at 14:20-14:26
 46: RParen          ")" at 14:26-14:27
 47: KwPub           "pub" at 15:5-15:8 (leading: Newline, Space)
 48: KwFn            "fn" at 15:9-15:11 (leading: Space)
 49: Ident           "acquire" at 15:12-15:19 (leading: Space)
 50: LParen          "(" at 15:19-15:20
 51: Ident           "self" at 15:20-15:24
 52: Colon           ":" at 15:24-15:25
 53: Amp             "&" at 15:26-15:27 (leading: Space)
 54: KwMut           "mut" at 15:27-15:30
 55: Ident           "SafeCounter" at 15:31-15:42 (leading: Space)
 56: RParen          ")" at 15:42-15:43
 57: Arrow           "->" at 15:44-15:46 (leading: Space)
 58: NothingLit      "nothing" at 15:47-15:54 (leading: Space)
 59: LBrace          "{" at 15:55-15:56 (leading: Space)
 60: Ident           "self" at 16:9-16:13 (leading: Newline, Space)
 61: Dot             "." at 16:13-16:14
 62: Ident           "lock" at 16:14-16:18
 63: Dot             "." at 16:18-16:19
 64: Ident           "lock" at 16:19-16:23
 65: LParen          "(" at 16:23-16:24
 66: RParen          ")" at 16:24-16:25
 67: Semicolon       ";" at 16:25-16:26
 68: RBrace          "}" at 17:5-17:6 (leading: Newline, Space)
 69: At              "@" at 19:5-19:6 (leading: Newline, Space)
 70: Ident           "releases_lock" at 19:6-19:19
 71: LParen          "(" at 19:19-19:20
 72: StringLit       "\"lock\"" at 19:20-19:26
 73: RParen          ")" at 19:26-19:27
 74: KwPub           "pub" at 20:5-20:8 (leading: Newline, Space)
 75: KwFn            "fn" at 20:9-20:11 (leading: Space)
 76: Ident           "release" at 20:12-20:19 (leading: Space)
 77: LParen          "(" at 20:19-20:20
 78: Ident           "self" at 20:20-20:24
 79: Colon           ":" at 20:24-20:25
 80: Amp             "&" at 20:26-20:27 (leading: Space)
 81: KwMut           "mut" at 20:27-20:30
 82: Ident           "SafeCounter" at 20:31-20:42 (leading: Space)
 83: RParen          ")" at 20:42-20:43
 84: Arrow           "->" at 20:44-20:46 (leading: Space)
 85: NothingLit      "nothing" at 20:47-20:54 (leading: Space)
 86: LBrace          "{" at 20:55-20:56 (leading: Space)
 87: Ident           "self" at 21:9-21:13 (leading: Newline, Space)
 88: Dot             "." at 21:13-21:14
 89: Ident           "lock" at 21:14-21:18
 90: Dot             "." at 21:18-21:19
 91: Ident           "unlock" at 21:19-21:25
 92: LParen          "(" at 21:25-21:26
 93: RParen          ")" at 21:26-21:27
 94: Semicolon       ";" at 21:27-21:28
 95: RBrace          "}" at 22:5-22:6 (leading: Newline, Space)
 96: RBrace          "}" at 23:1-23:2 (leading: Newline)
 97: KwType          "type" at 25:1-25:5 (leading: Newline)
 98: Ident           "RwCounter" at 25:6-25:15 (leading: Space)
 99: Assign          "=" at 25:16-25:17 (leading: Space)
100: LBrace          "{" at 25:18-25:19 (leading: Space)
101: Ident           "rw" at 26:5-26:7 (leading: Newline, Space)
102: Colon           ":" at 26:7-26:8
103: Ident           "RwLock" at 26:9-26:15 (leading: Space)
104: Comma           "," at 26:15-26:16
105: Ident           "data" at 27:5-27:9 (leading: Newline, Space)
106: Colon           ":" at 27:9-27:10
107: Ident           "string" at 27:11-27:17 (leading: Space)
108: Comma           "," at 27:17-27:18
109: RBrace          "}" at 28:1-28:2 (leading: Newline)
110: KwExtern        "extern" at 30:1-30:7 (leading: Newline)
111: Lt              "<" at 30:7-30:8
112: Ident           "RwCounter" at 30:8-30:17
113: Gt              ">" at 30:17-30:18
114: LBrace          "{" at 30:19-30:20 (leading: Space)
115: At              "@" at 31:5-31:6 (leading: Newline, Space)
116: Ident           "requires_lock" at 31:6-31:19
117: LParen          "(" at 31:19-31:20
118: StringLit       "\"rw\"" at 31:20-31:24
119: RParen          ")" at 31:24-31:25
120: KwPub           "pub" at 32:5-32:8 (leading: Newline, Space)
121: KwFn            "fn" at 32:9-32:11 (leading: Space)
122: Ident           "read_data" at 32:12-32:21 (leading: Space)
123: LParen          "(" at 32:21-32:22
124: Ident           "self" at 32:22-32:26
125: Colon           ":" at 32:26-32:27
126: Amp             "&" at 32:28-32:29 (leading: Space)
127: Ident           "RwCounter" at 32:29-32:38
128: RParen          ")" at 32:38-32:39
129: Arrow           "->" at 32:40-32:42 (leading: Space)
130: Ident           "string" at 32:43-32:49 (leading: Space)
131: LBrace          "{" at 32:50-32:51 (leading: Space)
132: KwReturn        "return" at 33:9-33:15 (leading: Newline, Space)
133: Ident           "self" at 33:16-33:20 (leading: Space)
134: Dot             "." at 33:20-33:21
135: Ident           "data" at 33:21-33:25
136: Semicolon       ";" at 33:25-33:26
137: RBrace          "}" at 34:5-34:6 (leading: Newline, Space)
138: At              "@" at 36:5-36:6 (leading: Newline, Space)
139: Ident           "acquires_lock" at 36:6-36:19
140: LParen          "(" at 36:19-36:20
141: StringLit       "\"rw\"" at 36:20-36:24
142: RParen          ")" at 36:24-36:25
143: KwPub           "pub" at 37:5-37:8 (leading: Newline, Space)
144: KwFn            "fn" at 37:9-37:11 (leading: Space)
145: Ident           "acquire_read" at 37:12-37:24 (leading: Space)
146: LParen          "(" at 37:24-37:25
147: Ident           "self" at 37:25-37:29
148: Colon           ":" at 37:29-37:30
149: Amp             "&" at 37:31-37:32 (leading: Space)
150: KwMut           "mut" at 37:32-37:35
151: Ident           "RwCounter" at 37:36-37:45 (leading: Space)
152: RParen          ")" at 37:45-37:46
153: Arrow           "->" at 37:47-37:49 (leading: Space)
154: NothingLit      "nothing" at 37:50-37:57 (leading: Space)
155: LBrace          "{" at 37:58-37:59 (leading: Space)
156: Ident           "self" at 38:9-38:13 (leading: Newline, Space)
157: Dot             "." at 38:13-38:14
158: Ident           "rw" at 38:14-38:16
159: Dot             "." at 38:16-38:17
160: Ident           "read_lock" at 38:17-38:26
161: LParen          "(" at 38:26-38:27
162: RParen          ")" at 38:27-38:28
163: Semicolon       ";" at 38:28-38:29
164: RBrace          "}" at 39:5-39:6 (leading: Newline, Space)
165: At              "@" at 41:5-41:6 (leading: Newline, Space)
166: Ident           "releases_lock" at 41:6-41:19
167: LParen          "(" at 41:19-41:20
168: StringLit       "\"rw\"" at 41:20-41:24
169: RParen          ")" at 41:24-41:25
170: KwPub           "pub" at 42:5-42:8 (leading: Newline, Space)
171: KwFn            "fn" at 42:9-42:11 (leading: Space)
172: Ident           "release_read" at 42:12-42:24 (leading: Space)
173: LParen          "(" at 42:24-42:25
174: Ident           "self" at 42:25-42:29
175: Colon           ":" at 42:29-42:30
176: Amp             "&" at 42:31-42:32 (leading: Space)
177: KwMut           "mut" at 42:32-42:35
178: Ident           "RwCounter" at 42:36-42:45 (leading: Space)
179: RParen          ")" at 42:45-42:46
180: Arrow           "->" at 42:47-42:49 (leading: Space)
181: NothingLit      "nothing" at 42:50-42:57 (leading: Space)
182: LBrace          "{" at 42:58-42:59 (leading: Space)
183: Ident           "self" at 43:9-43:13 (leading: Newline, Space)
184: Dot             "." at 43:13-43:14
185: Ident           "rw" at 43:14-43:16
186: Dot             "." at 43:16-43:17
187: Ident           "read_unlock" at 43:17-43:28
188: LParen          "(" at 43:28-43:29
189: RParen          ")" at 43:29-43:30
190: Semicolon       ";" at 43:30-43:31
191: RBrace          "}" at 44:5-44:6 (leading: Newline, Space)
192: RBrace          "}" at 45:1-45:2 (leading: Newline)
193: EOF             at 46:1-46:1
