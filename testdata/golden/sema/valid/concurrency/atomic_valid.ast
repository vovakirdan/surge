atomic_valid.sg (span: 4:1-41:1)
├─ Item[0]: Type (span: 4:1-8:2)
│  ├─ Name: AtomicCounter
│  ├─ Kind: Struct
│  ├─ Visibility: private
│  └─ Struct:
│     ├─ Field[0]: count: int [@atomic]
│     ├─ Field[1]: flags: uint [@atomic]
│     └─ Field[2]: active: bool [@atomic]
├─ Item[1]: Fn (span: 10:1-16:2)
│  ├─ Name: test_atomic_store
│  ├─ Params: ()
│  ├─ Return: nothing
│  └─ Body:
│     └─ Stmt[0]: Block (span: 10:39-16:2)
│        ├─ Stmt[0]: Let (span: 11:5-11:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#7: <ExprKind(21)>
│        ├─ Stmt[1]: Expr (span: 13:5-13:35)
│        │  └─ Expr: expr#13: atomic_store(&mut a.count, 1)
│        ├─ Stmt[2]: Expr (span: 14:5-14:37)
│        │  └─ Expr: expr#19: atomic_store(&mut a.flags, 255)
│        └─ Stmt[3]: Expr (span: 15:5-15:39)
│           └─ Expr: expr#25: atomic_store(&mut a.active, true)
├─ Item[2]: Fn (span: 18:1-22:2)
│  ├─ Name: test_atomic_load
│  ├─ Params: ()
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 18:34-22:2)
│        ├─ Stmt[0]: Let (span: 19:5-19:81)
│        │  ├─ Name: a
│        │  ├─ Mutable: false
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#32: <ExprKind(21)>
│        └─ Stmt[1]: Return (span: 21:5-21:34)
│           └─ Expr: expr#37: atomic_load(&a.count)
├─ Item[3]: Fn (span: 24:1-28:2)
│  ├─ Name: test_atomic_fetch_add
│  ├─ Params: ()
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 24:39-28:2)
│        ├─ Stmt[0]: Let (span: 25:5-25:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#44: <ExprKind(21)>
│        └─ Stmt[1]: Return (span: 27:5-27:46)
│           └─ Expr: expr#50: atomic_fetch_add(&mut a.count, 1)
├─ Item[4]: Fn (span: 30:1-34:2)
│  ├─ Name: test_atomic_compare_exchange
│  ├─ Params: ()
│  ├─ Return: bool
│  └─ Body:
│     └─ Stmt[0]: Block (span: 30:47-34:2)
│        ├─ Stmt[0]: Let (span: 31:5-31:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#57: <ExprKind(21)>
│        └─ Stmt[1]: Return (span: 33:5-33:56)
│           └─ Expr: expr#64: atomic_compare_exchange(&mut a.count, 0, 1)
└─ Item[5]: Fn (span: 36:1-40:2)
   ├─ Name: test_atomic_exchange
   ├─ Params: ()
   ├─ Return: int
   └─ Body:
      └─ Stmt[0]: Block (span: 36:38-40:2)
         ├─ Stmt[0]: Let (span: 37:5-37:84)
         │  ├─ Name: a
         │  ├─ Mutable: true
         │  ├─ Type: AtomicCounter
         │  └─ Value: expr#71: <ExprKind(21)>
         └─ Stmt[1]: Return (span: 39:5-39:46)
            └─ Expr: expr#77: atomic_exchange(&mut a.count, 42)
