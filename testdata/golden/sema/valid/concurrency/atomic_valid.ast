atomic_valid.sg (span: 4:1-45:1)
├─ Item[0]: Type (span: 4:1-8:2)
│  ├─ Name: AtomicCounter
│  ├─ Kind: Struct
│  ├─ Visibility: private
│  └─ Struct:
│     ├─ Field[0]: count: int [@atomic]
│     ├─ Field[1]: flags: uint [@atomic]
│     └─ Field[2]: active: bool [@atomic]
├─ Item[1]: Type (span: 10:1-12:2)
│  ├─ Name: AtomicPointer
│  ├─ Kind: Struct
│  ├─ Visibility: private
│  └─ Struct:
│     └─ Field[0]: ptr: *int [@atomic]
├─ Item[2]: Fn (span: 14:1-20:2)
│  ├─ Name: test_atomic_store
│  ├─ Params: ()
│  ├─ Return: nothing
│  └─ Body:
│     └─ Stmt[0]: Block (span: 14:39-20:2)
│        ├─ Stmt[0]: Let (span: 15:5-15:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#7: <ExprKind(18)>
│        ├─ Stmt[1]: Expr (span: 17:5-17:35)
│        │  └─ Expr: expr#13: atomic_store(&mut a.count, 1)
│        ├─ Stmt[2]: Expr (span: 18:5-18:37)
│        │  └─ Expr: expr#19: atomic_store(&mut a.flags, 255)
│        └─ Stmt[3]: Expr (span: 19:5-19:39)
│           └─ Expr: expr#25: atomic_store(&mut a.active, true)
├─ Item[3]: Fn (span: 22:1-26:2)
│  ├─ Name: test_atomic_load
│  ├─ Params: ()
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 22:34-26:2)
│        ├─ Stmt[0]: Let (span: 23:5-23:81)
│        │  ├─ Name: a
│        │  ├─ Mutable: false
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#32: <ExprKind(18)>
│        └─ Stmt[1]: Return (span: 25:5-25:34)
│           └─ Expr: expr#37: atomic_load(&a.count)
├─ Item[4]: Fn (span: 28:1-32:2)
│  ├─ Name: test_atomic_fetch_add
│  ├─ Params: ()
│  ├─ Return: int
│  └─ Body:
│     └─ Stmt[0]: Block (span: 28:39-32:2)
│        ├─ Stmt[0]: Let (span: 29:5-29:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#44: <ExprKind(18)>
│        └─ Stmt[1]: Return (span: 31:5-31:46)
│           └─ Expr: expr#50: atomic_fetch_add(&mut a.count, 1)
├─ Item[5]: Fn (span: 34:1-38:2)
│  ├─ Name: test_atomic_compare_exchange
│  ├─ Params: ()
│  ├─ Return: bool
│  └─ Body:
│     └─ Stmt[0]: Block (span: 34:47-38:2)
│        ├─ Stmt[0]: Let (span: 35:5-35:84)
│        │  ├─ Name: a
│        │  ├─ Mutable: true
│        │  ├─ Type: AtomicCounter
│        │  └─ Value: expr#57: <ExprKind(18)>
│        └─ Stmt[1]: Return (span: 37:5-37:56)
│           └─ Expr: expr#64: atomic_compare_exchange(&mut a.count, 0, 1)
└─ Item[6]: Fn (span: 40:1-44:2)
   ├─ Name: test_atomic_exchange
   ├─ Params: ()
   ├─ Return: int
   └─ Body:
      └─ Stmt[0]: Block (span: 40:38-44:2)
         ├─ Stmt[0]: Let (span: 41:5-41:84)
         │  ├─ Name: a
         │  ├─ Mutable: true
         │  ├─ Type: AtomicCounter
         │  └─ Value: expr#71: <ExprKind(18)>
         └─ Stmt[1]: Return (span: 43:5-43:46)
            └─ Expr: expr#77: atomic_exchange(&mut a.count, 42)
