lock_annotations_valid.sg (span: 3:1-46:1)
├─ Item[0]: Type (span: 3:1-6:2)
│  ├─ Name: SafeCounter
│  ├─ Kind: Struct
│  ├─ Visibility: private
│  └─ Struct:
│     ├─ Field[0]: lock: Mutex
│     └─ Field[1]: value: int
├─ Item[1]: Extern (span: 8:1-23:2)
│  ├─ Target: SafeCounter
│  ├─ Members:
│  │  ├─ Fn[0]: get_value
│  │  │  ├─ Params: (self: &SafeCounter)
│  │  │  ├─ Return: int
│  │  │  ├─ Attributes: @requires_lock("lock")
│  │  │  └─ Body:
│  │  │     Stmt[0]: Block (span: 10:49-12:6)
│  │  │     └─ Stmt[0]: Return (span: 11:9-11:27)
│  │  │        └─ Expr: expr#3: self.value
│  │  ├─ Fn[1]: acquire
│  │  │  ├─ Params: (self: &mut SafeCounter)
│  │  │  ├─ Return: nothing
│  │  │  ├─ Attributes: @acquires_lock("lock")
│  │  │  └─ Body:
│  │  │     Stmt[0]: Block (span: 15:55-17:6)
│  │  │     └─ Stmt[0]: Expr (span: 16:9-16:26)
│  │  │        └─ Expr: expr#8: self.lock.lock()
│  │  └─ Fn[2]: release
│  │     ├─ Params: (self: &mut SafeCounter)
│  │     ├─ Return: nothing
│  │     ├─ Attributes: @releases_lock("lock")
│  │     └─ Body:
│  │        Stmt[0]: Block (span: 20:55-22:6)
│  │        └─ Stmt[0]: Expr (span: 21:9-21:28)
│  │           └─ Expr: expr#13: self.lock.unlock()
├─ Item[2]: Type (span: 25:1-28:2)
│  ├─ Name: RwCounter
│  ├─ Kind: Struct
│  ├─ Visibility: private
│  └─ Struct:
│     ├─ Field[0]: rw: RwLock
│     └─ Field[1]: data: string
└─ Item[3]: Extern (span: 30:1-45:2)
   ├─ Target: RwCounter
   ├─ Members:
   │  ├─ Fn[0]: read_data
   │  │  ├─ Params: (self: &RwCounter)
   │  │  ├─ Return: string
   │  │  ├─ Attributes: @requires_lock("rw")
   │  │  └─ Body:
   │  │     Stmt[0]: Block (span: 32:50-34:6)
   │  │     └─ Stmt[0]: Return (span: 33:9-33:26)
   │  │        └─ Expr: expr#16: self.data
   │  ├─ Fn[1]: acquire_read
   │  │  ├─ Params: (self: &mut RwCounter)
   │  │  ├─ Return: nothing
   │  │  ├─ Attributes: @acquires_lock("rw")
   │  │  └─ Body:
   │  │     Stmt[0]: Block (span: 37:58-39:6)
   │  │     └─ Stmt[0]: Expr (span: 38:9-38:29)
   │  │        └─ Expr: expr#21: self.rw.read_lock()
   │  └─ Fn[2]: release_read
   │     ├─ Params: (self: &mut RwCounter)
   │     ├─ Return: nothing
   │     ├─ Attributes: @releases_lock("rw")
   │     └─ Body:
   │        Stmt[0]: Block (span: 42:58-44:6)
   │        └─ Stmt[0]: Expr (span: 43:9-43:31)
   │           └─ Expr: expr#26: self.rw.read_unlock()
