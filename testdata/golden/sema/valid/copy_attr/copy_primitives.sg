// scenario: @copy type with primitive fields
@copy
type Point = { x: int32, y: int32 }

@copy
type Color = { r: uint8, g: uint8, b: uint8, a: uint8 }

fn test_copy_point() -> int32 {
    let p1: Point = Point { x: 10, y: 20 };
    let p2 = p1;  // Copy, not move
    let p3 = p1;  // p1 still valid
    return p1.x + p2.x + p3.x;
}

fn test_copy_color() -> uint8 {
    let c1: Color = Color { r: 255, g: 128, b: 64, a: 255 };
    let c2 = c1;  // Copy
    return c1.r + c2.r;
}
