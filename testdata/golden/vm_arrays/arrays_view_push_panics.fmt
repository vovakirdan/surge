fn print_int(n: int) -> nothing {
    print(n to string);
}

fn print_opt_int(v: int?) -> nothing {
    compare v {
        Some(x) => print_int(x);
        nothing => print("nothing");
    };
}

@entrypoint
fn main() -> int {
    let mut a: int[] = [];
    { array_reserve(&mut a, 4:uint); }
    { array_push(&mut a, 1); }
    { a.push(2); }
    { a.push(3); }

    let b: int[] = [4, 5];
    { a.extend(&b); }
    print_int(a.__len() to int);

    { a.reverse_in_place(); }
    print_int(a[0]);
    print_int(a[4]);

    { let v: int? = a.pop(); print_opt_int(v); }
    { let v: int? = array_pop(&mut a); print_opt_int(v); }
    return 0;
}
